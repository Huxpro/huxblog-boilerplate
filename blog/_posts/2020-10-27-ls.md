---
layout:     post
title:      "Ubuntu 建立软连接"
subtitle:   ""
date:       2020-10-27
author:     "SirJamie"
header-img: "img/head-post/post-bg-wbb.jpg"
tags:
    - Linux
---

> Linux链接分两种，一种被称为硬链接（Hard Link），另一种被称为符号链接（Symbolic Link）也就是软链接。默认情况下，ln命令产生硬链接。

### 硬链接

> 硬连接指通过索引节点来进行连接。在Linux的文件系统中，保存在磁盘分区中的文件不管是什么类型都给它分配一个编号，称为索引节点号(Inode Index)。在Linux中，多个文件名指向同一索引节点是存在的。一般这种连接就是硬连接。硬连接的作用是允许一个文件拥有多个有效路径名，这样用户就可以建立硬连接到重要文件，以防止“误删”的功能。其原因如上所述，因为对应该目录的索引节点有一个以上的连接。只删除一个连接并不影响索引节点本身和其它的连接，只有当最后一个连接被删除后，文件的数据块及目录的连接才会被释放。也就是说，文件真正删除的条件是与之相关的所有硬连接文件均被删除。

硬链接可以认为是一个指针，**指向文件索引节点的指针**，系统并不为它重新分配inode。每添加一个一个硬链接，文件的链接数就加1。（防误删）

使用命令行：```ln  sourse dist```

>1. 不可以在不同文件系统的文件间建立链接 
>2. 只有超级用户才可以为目录创建硬链接。

---

### 软链接

> 软链接文件有类似于Windows的快捷方式。它实际上是一个特殊的文件。在符号连接中，文件实际上是一个文本文件，其中包含的有另一文件的位置信息。

它克服了硬链接的不足，没有任何文件系统的限制，任何用户可以创建指向目录的符号链接。因而现在更为广泛使用，它具有更大的灵活性，甚至可以跨越不同机器、不同网络对文件进行链接。

---

### 创建软链接

使用命令行

```ln -s [源文件或目录] [目标文件目录]```

两个目录后面都不加```/```

使用```ls -il```检查是否链接成功

---

### 删除软链接

和删除普通的文件是一眼的，删除都是使用rm来进行操作
```rm –rf``` 软链接名称（注意不要在后面加```/```）

硬链接删除原文件，不会影响访问，因为是复制了原文件。软链接，又叫符号链接，删除原文件会使所有的软连接失效

---

### 修改软链接

```ln –snf  [新的源文件或目录]  [目标文件或目录]```

这将会修改原有的链接地址为新的地址

---

### Reference
[Ubuntu文件夹建立软链接](https://kukksaku.github.io/2019/02/02/Ubuntu文件夹建立软链接/)